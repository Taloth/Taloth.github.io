<!-- wp:html -->
<style>
    .pigsty-leaderboard {
        display: inline-block;
        width: 250px;
        max-height: 300px;
        vertical-align: top;
        margin-bottom: 20px;
    }
    .pigsty-leaderboard .pigsty-img img {
        width: 400px;
        height: 200px;
    }
    .pigsty-leaderboard img.pigsty-leaderboard-img {
        width: 250px;
        height: 50px;
    }
    .pigsty-leaderboard-separator {
        display: inline-block;
        width: 20px;
    }
    .pigsty-leaderboard table {
        font-family: Poppins;
        font-size: 12px;
        line-height: 16px;
        padding-top: 10px;
        padding-bottom: 10px;
        empty-cells: show;
        margin: 0;
    }            

    #content .pigsty-leaderboard-header td {
        font-size: 10px;
        text-align: left;
        text-transform: uppercase;
        color: #999 !important;
    }
    .pigsty-leaderboard-header td:nth-child(3) {
        text-align: right;
    }
    
    .pigsty-leaderboard td {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        border: 0;
        padding: 1px;
    }
    #content .pigsty-leaderboard td:nth-child(1) {
        text-align: center;
        width: 20px;
        padding-top: 2px;
        color: #999 !important;
    }            
    #content .pigsty-leaderboard td:nth-child(2) {
        max-width: 165px;
        width: 165px;
    }
    #content .pigsty-leaderboard td:nth-child(3) {
        width: 80px;
        text-align: right;
        padding-left: 5px;
        padding-right: 10px;
    }

    .pigsty-leaderboard tr.place-1 td:nth-child(2) {
        padding-top: 0;
        font-size: 16px;
    }
    .pigsty-leaderboard tr.place-2 td:nth-child(2) {
        padding-top: 0;
        font-size: 14px;
    }
    .pigsty-leaderboard tr.place-3 td:nth-child(2) {
        padding-top: 0;
        font-size: 14px;
    }
    .info-box strong {
        width: 120px;
        font-weight: normal;
        display: inline-block;
    }

    .info-comment {
        font-size: 12px; 
        font-style: italic;
        border: 1px solid #999;
    }
</style>
<!-- /wp:html -->

<!-- wp:columns -->
<div class="wp-block-columns">

<!-- wp:column {"width":""} -->
<div class="wp-block-column">
    <!-- wp:heading {"level":3} -->
    <h3>PiG Sty Festival</h3>
    <!-- /wp:heading -->

    <!-- wp:paragraph -->
    <p>The&nbsp;<strong>PiG Sty Festival</strong>&nbsp;is a week-long 24 hours a day event featuring a high level pro&nbsp;tournament, entertaining side-show show matches, and frivolous carnival games.</p>
    <!-- /wp:paragraph -->

    <!-- wp:paragraph -->
    <p class="info-comment">More description, price pool? Or just refer to announcement?</p>
    <!-- /wp:paragraph -->
</div>
<!-- /wp:column -->

<!-- wp:column {"width":"400px"} -->
<div class="wp-block-column" style="flex-basis:400px">
    <!-- wp:image {"className":"pigsty-img"} -->
    <figure class="wp-block-image pigsty-img"><img src="https://i.imgur.com/AQ1qVyr.png" alt=""></figure>
    <!-- /wp:image -->

    <!-- wp:paragraph {"style":{"typography":{"fontSize":"0.8em"}},"className":"info-box"} -->
    <p class="info-box" style="font-size:0.8em">
    <strong>Announcement:</strong> <a href="https://tl.net/forum/sc2-tournaments/578485-pig-sty-festival-25-31-oct" target="_blank" rel="noreferrer noopener">tl.net forum post</a><br>
    <strong>Bracket:</strong> <a href="https://liquipedia.net/starcraft2/PiG_Sty_Festival" target="_blank" rel="noreferrer noopener">liquipedia.net bracket</a><br>
    <strong>Stream:</strong> <a href="https://twitch.tv/x5_pig" target="_blank" rel="noreferrer noopener">twitch.tv/x5_pig</a><br>
    <strong>Donations:</strong> <a href="https://streamlabs.com/x5_pig/tip" target="_blank" rel="noreferrer noopener">PiG's donation page</a>
    </p>
    <!-- /wp:paragraph -->
</div>
<!-- /wp:column -->

</div>
<!-- /wp:columns -->

<!-- wp:columns -->
<div class="wp-block-columns">

<!-- wp:column {"width":""} -->
<div class="wp-block-column">
    <!-- wp:paragraph -->
    <p class="info-comment">Goals and challenges?</p>
    <!-- /wp:paragraph -->
</div>
<!-- /wp:column -->

<!-- wp:column {"width":"250px"} -->


<div class="wp-block-column" style="flex-basis:250px">
    <!-- wp:paragraph -->
    <p class="info-comment">Total donations/bits/subs, maybe timer? (timer is probably too much effort to actually sync up on stream)</p>
    <!-- /wp:paragraph -->

    <!-- wp:html -->
    <div id="pigsty-leaderboard-1" class="pigsty-leaderboard pigsty-leaderboard-donations">
        <img src="https://i.imgur.com/AQ1qVyr.png" alt="Pigsty Donations Leaderboard" class="pigsty-leaderboard-img">
        <table>
            <tbody>
                <tr class="pigsty-leaderboard-header">
                    <td>&nbsp;</td>
                    <td>Supporter</td>
                    <td>Donations</td>
                </tr>
            </tbody>
        </table>
        <script>
            (() => {
                const feedUrl = 'https://twitch.cascadenexus.net/api/feed/172f110c43114c94b3a14c01b3393dca';
                window.fetch(feedUrl)
                .then((resp) => resp.json())
                .then((json) => {
                    const table = document.getElementById('pigsty-leaderboard-1').getElementsByTagName('tbody')[0];
                    json.items.forEach((item, i) => {
                        const row = document.createElement('tr');
                        if (i <= 2)
                            row.classList.add(`place-${i+1}`);
                        row.innerHTML = `<td>${i+1}</td><td>${item.userName}</td><td>${item.donationCurrency}&nbsp;${item.donationAmount.toFixed(2)}</td>`;
                        table.appendChild(row);
                    });
                });
            })();
        </script>
    </div>
        
    <div id="pigsty-leaderboard-2" class="pigsty-leaderboard pigsty-leaderboard-bits">
        <img src="https://i.imgur.com/AQ1qVyr.png" alt="Pigsty Donations Leaderboard" class="pigsty-leaderboard-img">
        <table>
            <tbody>
                <tr class="pigsty-leaderboard-header">
                    <td>&nbsp;</td>
                    <td>Supporter</td>
                    <td>Bits</td>
                </tr>
            </tbody>
        </table>
        <script>
            (() => {
                const feedUrl = 'https://twitch.cascadenexus.net/api/feed/172f110c43114c94b3a14c01b3393dcb';
                window.fetch(feedUrl)
                .then((resp) => resp.json())
                .then((json) => {
                    const table = document.getElementById('pigsty-leaderboard-2').getElementsByTagName('tbody')[0];
                    json.items.forEach((item, i) => {
                        const row = document.createElement('tr');
                        if (i <= 2)
                            row.classList.add(`place-${i+1}`);
                        row.innerHTML = `<td>${i+1}</td><td>${item.userName}</td><td>${item.bits}</td>`;
                        table.appendChild(row);
                    });
                });
            })();
        </script>
    </div>
    <!-- /wp:html -->
</div>
<!-- /wp:column -->

</div>
<!-- /wp:columns -->
